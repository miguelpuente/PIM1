[
  {
    "Plan": {
      "Node Type": "Limit",
      "Parallel Aware": false,
      "Async Capable": false,
      "Startup Cost": 100734.74,
      "Total Cost": 100734.77,
      "Plan Rows": 10,
      "Plan Width": 157,
      "Actual Startup Time": 460.698,
      "Actual Total Time": 472.109,
      "Actual Rows": 10.00,
      "Actual Loops": 1,
      "Disabled": false,
      "Shared Hit Blocks": 35068,
      "Shared Read Blocks": 5831,
      "Shared Dirtied Blocks": 0,
      "Shared Written Blocks": 0,
      "Local Hit Blocks": 0,
      "Local Read Blocks": 0,
      "Local Dirtied Blocks": 0,
      "Local Written Blocks": 0,
      "Temp Read Blocks": 0,
      "Temp Written Blocks": 0,
      "Plans": [
        {
          "Node Type": "Sort",
          "Parent Relationship": "Outer",
          "Parallel Aware": false,
          "Async Capable": false,
          "Startup Cost": 100734.74,
          "Total Cost": 100735.87,
          "Plan Rows": 452,
          "Plan Width": 157,
          "Actual Startup Time": 409.056,
          "Actual Total Time": 420.465,
          "Actual Rows": 10.00,
          "Actual Loops": 1,
          "Disabled": false,
          "Sort Key": ["(row_number() OVER w1)"],
          "Sort Method": "top-N heapsort",
          "Sort Space Used": 26,
          "Sort Space Type": "Memory",
          "Shared Hit Blocks": 35068,
          "Shared Read Blocks": 5831,
          "Shared Dirtied Blocks": 0,
          "Shared Written Blocks": 0,
          "Local Hit Blocks": 0,
          "Local Read Blocks": 0,
          "Local Dirtied Blocks": 0,
          "Local Written Blocks": 0,
          "Temp Read Blocks": 0,
          "Temp Written Blocks": 0,
          "Plans": [
            {
              "Node Type": "WindowAgg",
              "Parent Relationship": "Outer",
              "Parallel Aware": false,
              "Async Capable": false,
              "Startup Cost": 100717.08,
              "Total Cost": 100724.98,
              "Plan Rows": 452,
              "Plan Width": 157,
              "Actual Startup Time": 408.829,
              "Actual Total Time": 420.354,
              "Actual Rows": 452.00,
              "Actual Loops": 1,
              "Disabled": false,
              "Window": "w1 AS (ORDER BY (sum(sales.quantity)) ROWS UNBOUNDED PRECEDING)",
              "Storage": "Memory",
              "Maximum Storage": 17,
              "Shared Hit Blocks": 35065,
              "Shared Read Blocks": 5831,
              "Shared Dirtied Blocks": 0,
              "Shared Written Blocks": 0,
              "Local Hit Blocks": 0,
              "Local Read Blocks": 0,
              "Local Dirtied Blocks": 0,
              "Local Written Blocks": 0,
              "Temp Read Blocks": 0,
              "Temp Written Blocks": 0,
              "Plans": [
                {
                  "Node Type": "Sort",
                  "Parent Relationship": "Outer",
                  "Parallel Aware": false,
                  "Async Capable": false,
                  "Startup Cost": 100717.07,
                  "Total Cost": 100718.20,
                  "Plan Rows": 452,
                  "Plan Width": 149,
                  "Actual Startup Time": 408.822,
                  "Actual Total Time": 420.246,
                  "Actual Rows": 452.00,
                  "Actual Loops": 1,
                  "Disabled": false,
                  "Sort Key": ["(sum(sales.quantity)) DESC"],
                  "Sort Method": "quicksort",
                  "Sort Space Used": 55,
                  "Sort Space Type": "Memory",
                  "Shared Hit Blocks": 35065,
                  "Shared Read Blocks": 5831,
                  "Shared Dirtied Blocks": 0,
                  "Shared Written Blocks": 0,
                  "Local Hit Blocks": 0,
                  "Local Read Blocks": 0,
                  "Local Dirtied Blocks": 0,
                  "Local Written Blocks": 0,
                  "Temp Read Blocks": 0,
                  "Temp Written Blocks": 0,
                  "Plans": [
                    {
                      "Node Type": "Hash Join",
                      "Parent Relationship": "Outer",
                      "Parallel Aware": false,
                      "Async Capable": false,
                      "Join Type": "Inner",
                      "Startup Cost": 100682.40,
                      "Total Cost": 100697.13,
                      "Plan Rows": 452,
                      "Plan Width": 149,
                      "Actual Startup Time": 408.459,
                      "Actual Total Time": 420.145,
                      "Actual Rows": 452.00,
                      "Actual Loops": 1,
                      "Disabled": false,
                      "Inner Unique": true,
                      "Hash Cond": "(sales.product_id = p.product_id)",
                      "Shared Hit Blocks": 35065,
                      "Shared Read Blocks": 5831,
                      "Shared Dirtied Blocks": 0,
                      "Shared Written Blocks": 0,
                      "Local Hit Blocks": 0,
                      "Local Read Blocks": 0,
                      "Local Dirtied Blocks": 0,
                      "Local Written Blocks": 0,
                      "Temp Read Blocks": 0,
                      "Temp Written Blocks": 0,
                      "Plans": [
                        {
                          "Node Type": "WindowAgg",
                          "Parent Relationship": "Outer",
                          "Parallel Aware": false,
                          "Async Capable": false,
                          "Startup Cost": 100666.23,
                          "Total Cost": 100675.25,
                          "Plan Rows": 452,
                          "Plan Width": 132,
                          "Actual Startup Time": 408.323,
                          "Actual Total Time": 419.935,
                          "Actual Rows": 452.00,
                          "Actual Loops": 1,
                          "Disabled": false,
                          "Window": "w1 AS (PARTITION BY p_1.category_id ORDER BY (sum(sales.quantity)) ROWS UNBOUNDED PRECEDING)",
                          "Storage": "Memory",
                          "Maximum Storage": 17,
                          "Shared Hit Blocks": 35059,
                          "Shared Read Blocks": 5831,
                          "Shared Dirtied Blocks": 0,
                          "Shared Written Blocks": 0,
                          "Local Hit Blocks": 0,
                          "Local Read Blocks": 0,
                          "Local Dirtied Blocks": 0,
                          "Local Written Blocks": 0,
                          "Temp Read Blocks": 0,
                          "Temp Written Blocks": 0,
                          "Plans": [
                            {
                              "Node Type": "Sort",
                              "Parent Relationship": "Outer",
                              "Parallel Aware": false,
                              "Async Capable": false,
                              "Startup Cost": 100666.21,
                              "Total Cost": 100667.34,
                              "Plan Rows": 452,
                              "Plan Width": 124,
                              "Actual Startup Time": 408.299,
                              "Actual Total Time": 419.722,
                              "Actual Rows": 452.00,
                              "Actual Loops": 1,
                              "Disabled": false,
                              "Sort Key": ["p_1.category_id", "(sum(sales.quantity)) DESC"],
                              "Sort Method": "quicksort",
                              "Sort Space Used": 43,
                              "Sort Space Type": "Memory",
                              "Shared Hit Blocks": 35059,
                              "Shared Read Blocks": 5831,
                              "Shared Dirtied Blocks": 0,
                              "Shared Written Blocks": 0,
                              "Local Hit Blocks": 0,
                              "Local Read Blocks": 0,
                              "Local Dirtied Blocks": 0,
                              "Local Written Blocks": 0,
                              "Temp Read Blocks": 0,
                              "Temp Written Blocks": 0,
                              "Plans": [
                                {
                                  "Node Type": "Nested Loop",
                                  "Parent Relationship": "Outer",
                                  "Parallel Aware": false,
                                  "Async Capable": false,
                                  "Join Type": "Inner",
                                  "Startup Cost": 1000.89,
                                  "Total Cost": 100646.27,
                                  "Plan Rows": 452,
                                  "Plan Width": 124,
                                  "Actual Startup Time": 373.737,
                                  "Actual Total Time": 419.582,
                                  "Actual Rows": 452.00,
                                  "Actual Loops": 1,
                                  "Disabled": false,
                                  "Inner Unique": true,
                                  "Shared Hit Blocks": 35059,
                                  "Shared Read Blocks": 5831,
                                  "Shared Dirtied Blocks": 0,
                                  "Shared Written Blocks": 0,
                                  "Local Hit Blocks": 0,
                                  "Local Read Blocks": 0,
                                  "Local Dirtied Blocks": 0,
                                  "Local Written Blocks": 0,
                                  "Temp Read Blocks": 0,
                                  "Temp Written Blocks": 0,
                                  "Plans": [
                                    {
                                      "Node Type": "Merge Join",
                                      "Parent Relationship": "Outer",
                                      "Parallel Aware": false,
                                      "Async Capable": false,
                                      "Join Type": "Inner",
                                      "Startup Cost": 1000.73,
                                      "Total Cost": 100631.72,
                                      "Plan Rows": 452,
                                      "Plan Width": 16,
                                      "Actual Startup Time": 373.461,
                                      "Actual Total Time": 419.162,
                                      "Actual Rows": 452.00,
                                      "Actual Loops": 1,
                                      "Disabled": false,
                                      "Inner Unique": true,
                                      "Merge Cond": "(sales.product_id = p_1.product_id)",
                                      "Shared Hit Blocks": 35039,
                                      "Shared Read Blocks": 5829,
                                      "Shared Dirtied Blocks": 0,
                                      "Shared Written Blocks": 0,
                                      "Local Hit Blocks": 0,
                                      "Local Read Blocks": 0,
                                      "Local Dirtied Blocks": 0,
                                      "Local Written Blocks": 0,
                                      "Temp Read Blocks": 0,
                                      "Temp Written Blocks": 0,
                                      "Plans": [
                                        {
                                          "Node Type": "Aggregate",
                                          "Strategy": "Sorted",
                                          "Partial Mode": "Finalize",
                                          "Parent Relationship": "Outer",
                                          "Parallel Aware": false,
                                          "Async Capable": false,
                                          "Startup Cost": 1000.46,
                                          "Total Cost": 100592.88,
                                          "Plan Rows": 452,
                                          "Plan Width": 12,
                                          "Actual Startup Time": 373.071,
                                          "Actual Total Time": 418.602,
                                          "Actual Rows": 452.00,
                                          "Actual Loops": 1,
                                          "Disabled": false,
                                          "Group Key": ["sales.product_id"],
                                          "Shared Hit Blocks": 35033,
                                          "Shared Read Blocks": 5826,
                                          "Shared Dirtied Blocks": 0,
                                          "Shared Written Blocks": 0,
                                          "Local Hit Blocks": 0,
                                          "Local Read Blocks": 0,
                                          "Local Dirtied Blocks": 0,
                                          "Local Written Blocks": 0,
                                          "Temp Read Blocks": 0,
                                          "Temp Written Blocks": 0,
                                          "Plans": [
                                            {
                                              "Node Type": "Gather Merge",
                                              "Parent Relationship": "Outer",
                                              "Parallel Aware": false,
                                              "Async Capable": false,
                                              "Startup Cost": 1000.46,
                                              "Total Cost": 100582.94,
                                              "Plan Rows": 1085,
                                              "Plan Width": 12,
                                              "Actual Startup Time": 372.947,
                                              "Actual Total Time": 418.467,
                                              "Actual Rows": 906.00,
                                              "Actual Loops": 1,
                                              "Disabled": false,
                                              "Workers Planned": 2,
                                              "Workers Launched": 2,
                                              "Shared Hit Blocks": 35033,
                                              "Shared Read Blocks": 5826,
                                              "Shared Dirtied Blocks": 0,
                                              "Shared Written Blocks": 0,
                                              "Local Hit Blocks": 0,
                                              "Local Read Blocks": 0,
                                              "Local Dirtied Blocks": 0,
                                              "Local Written Blocks": 0,
                                              "Temp Read Blocks": 0,
                                              "Temp Written Blocks": 0,
                                              "Plans": [
                                                {
                                                  "Node Type": "Aggregate",
                                                  "Strategy": "Sorted",
                                                  "Partial Mode": "Partial",
                                                  "Parent Relationship": "Outer",
                                                  "Parallel Aware": false,
                                                  "Async Capable": false,
                                                  "Startup Cost": 0.43,
                                                  "Total Cost": 99457.68,
                                                  "Plan Rows": 452,
                                                  "Plan Width": 12,
                                                  "Actual Startup Time": 2.801,
                                                  "Actual Total Time": 260.000,
                                                  "Actual Rows": 302.00,
                                                  "Actual Loops": 3,
                                                  "Disabled": false,
                                                  "Group Key": ["sales.product_id"],
                                                  "Shared Hit Blocks": 35033,
                                                  "Shared Read Blocks": 5826,
                                                  "Shared Dirtied Blocks": 0,
                                                  "Shared Written Blocks": 0,
                                                  "Local Hit Blocks": 0,
                                                  "Local Read Blocks": 0,
                                                  "Local Dirtied Blocks": 0,
                                                  "Local Written Blocks": 0,
                                                  "Temp Read Blocks": 0,
                                                  "Temp Written Blocks": 0,
                                                  "Workers": [
                                                  ],
                                                  "Plans": [
                                                    {
                                                      "Node Type": "Index Only Scan",
                                                      "Parent Relationship": "Outer",
                                                      "Parallel Aware": true,
                                                      "Async Capable": false,
                                                      "Scan Direction": "Forward",
                                                      "Index Name": "idx_sales_prod_quantity",
                                                      "Relation Name": "sales",
                                                      "Alias": "sales",
                                                      "Startup Cost": 0.43,
                                                      "Total Cost": 85373.76,
                                                      "Plan Rows": 2815879,
                                                      "Plan Width": 8,
                                                      "Actual Startup Time": 0.063,
                                                      "Actual Total Time": 149.422,
                                                      "Actual Rows": 2252703.00,
                                                      "Actual Loops": 3,
                                                      "Disabled": false,
                                                      "Heap Fetches": 61,
                                                      "Index Searches": 1,
                                                      "Shared Hit Blocks": 35033,
                                                      "Shared Read Blocks": 5826,
                                                      "Shared Dirtied Blocks": 0,
                                                      "Shared Written Blocks": 0,
                                                      "Local Hit Blocks": 0,
                                                      "Local Read Blocks": 0,
                                                      "Local Dirtied Blocks": 0,
                                                      "Local Written Blocks": 0,
                                                      "Temp Read Blocks": 0,
                                                      "Temp Written Blocks": 0,
                                                      "Workers": [
                                                      ]
                                                    }
                                                  ]
                                                }
                                              ]
                                            }
                                          ]
                                        },
                                        {
                                          "Node Type": "Index Scan",
                                          "Parent Relationship": "Inner",
                                          "Parallel Aware": false,
                                          "Async Capable": false,
                                          "Scan Direction": "Forward",
                                          "Index Name": "products_pkey",
                                          "Relation Name": "products",
                                          "Alias": "p_1",
                                          "Startup Cost": 0.27,
                                          "Total Cost": 32.05,
                                          "Plan Rows": 452,
                                          "Plan Width": 8,
                                          "Actual Startup Time": 0.379,
                                          "Actual Total Time": 0.450,
                                          "Actual Rows": 452.00,
                                          "Actual Loops": 1,
                                          "Disabled": false,
                                          "Index Searches": 1,
                                          "Shared Hit Blocks": 6,
                                          "Shared Read Blocks": 3,
                                          "Shared Dirtied Blocks": 0,
                                          "Shared Written Blocks": 0,
                                          "Local Hit Blocks": 0,
                                          "Local Read Blocks": 0,
                                          "Local Dirtied Blocks": 0,
                                          "Local Written Blocks": 0,
                                          "Temp Read Blocks": 0,
                                          "Temp Written Blocks": 0
                                        }
                                      ]
                                    },
                                    {
                                      "Node Type": "Memoize",
                                      "Parent Relationship": "Inner",
                                      "Parallel Aware": false,
                                      "Async Capable": false,
                                      "Startup Cost": 0.16,
                                      "Total Cost": 0.28,
                                      "Plan Rows": 1,
                                      "Plan Width": 112,
                                      "Actual Startup Time": 0.001,
                                      "Actual Total Time": 0.001,
                                      "Actual Rows": 1.00,
                                      "Actual Loops": 452,
                                      "Disabled": false,
                                      "Cache Key": "p_1.category_id",
                                      "Cache Mode": "logical",
                                      "Cache Hits": 441,
                                      "Cache Misses": 11,
                                      "Cache Evictions": 0,
                                      "Cache Overflows": 0,
                                      "Peak Memory Usage": 2,
                                      "Shared Hit Blocks": 20,
                                      "Shared Read Blocks": 2,
                                      "Shared Dirtied Blocks": 0,
                                      "Shared Written Blocks": 0,
                                      "Local Hit Blocks": 0,
                                      "Local Read Blocks": 0,
                                      "Local Dirtied Blocks": 0,
                                      "Local Written Blocks": 0,
                                      "Temp Read Blocks": 0,
                                      "Temp Written Blocks": 0,
                                      "Plans": [
                                        {
                                          "Node Type": "Index Scan",
                                          "Parent Relationship": "Outer",
                                          "Parallel Aware": false,
                                          "Async Capable": false,
                                          "Scan Direction": "Forward",
                                          "Index Name": "categories_pkey",
                                          "Relation Name": "categories",
                                          "Alias": "cat",
                                          "Startup Cost": 0.15,
                                          "Total Cost": 0.27,
                                          "Plan Rows": 1,
                                          "Plan Width": 112,
                                          "Actual Startup Time": 0.024,
                                          "Actual Total Time": 0.024,
                                          "Actual Rows": 1.00,
                                          "Actual Loops": 11,
                                          "Disabled": false,
                                          "Index Cond": "(category_id = p_1.category_id)",
                                          "Rows Removed by Index Recheck": 0,
                                          "Index Searches": 11,
                                          "Shared Hit Blocks": 20,
                                          "Shared Read Blocks": 2,
                                          "Shared Dirtied Blocks": 0,
                                          "Shared Written Blocks": 0,
                                          "Local Hit Blocks": 0,
                                          "Local Read Blocks": 0,
                                          "Local Dirtied Blocks": 0,
                                          "Local Written Blocks": 0,
                                          "Temp Read Blocks": 0,
                                          "Temp Written Blocks": 0
                                        }
                                      ]
                                    }
                                  ]
                                }
                              ]
                            }
                          ]
                        },
                        {
                          "Node Type": "Hash",
                          "Parent Relationship": "Inner",
                          "Parallel Aware": false,
                          "Async Capable": false,
                          "Startup Cost": 10.52,
                          "Total Cost": 10.52,
                          "Plan Rows": 452,
                          "Plan Width": 25,
                          "Actual Startup Time": 0.116,
                          "Actual Total Time": 0.117,
                          "Actual Rows": 452.00,
                          "Actual Loops": 1,
                          "Disabled": false,
                          "Hash Buckets": 1024,
                          "Original Hash Buckets": 1024,
                          "Hash Batches": 1,
                          "Original Hash Batches": 1,
                          "Peak Memory Usage": 35,
                          "Shared Hit Blocks": 6,
                          "Shared Read Blocks": 0,
                          "Shared Dirtied Blocks": 0,
                          "Shared Written Blocks": 0,
                          "Local Hit Blocks": 0,
                          "Local Read Blocks": 0,
                          "Local Dirtied Blocks": 0,
                          "Local Written Blocks": 0,
                          "Temp Read Blocks": 0,
                          "Temp Written Blocks": 0,
                          "Plans": [
                            {
                              "Node Type": "Seq Scan",
                              "Parent Relationship": "Outer",
                              "Parallel Aware": false,
                              "Async Capable": false,
                              "Relation Name": "products",
                              "Alias": "p",
                              "Startup Cost": 0.00,
                              "Total Cost": 10.52,
                              "Plan Rows": 452,
                              "Plan Width": 25,
                              "Actual Startup Time": 0.020,
                              "Actual Total Time": 0.058,
                              "Actual Rows": 452.00,
                              "Actual Loops": 1,
                              "Disabled": false,
                              "Shared Hit Blocks": 6,
                              "Shared Read Blocks": 0,
                              "Shared Dirtied Blocks": 0,
                              "Shared Written Blocks": 0,
                              "Local Hit Blocks": 0,
                              "Local Read Blocks": 0,
                              "Local Dirtied Blocks": 0,
                              "Local Written Blocks": 0,
                              "Temp Read Blocks": 0,
                              "Temp Written Blocks": 0
                            }
                          ]
                        }
                      ]
                    }
                  ]
                }
              ]
            }
          ]
        }
      ]
    },
    "Planning": {
      "Shared Hit Blocks": 271,
      "Shared Read Blocks": 31,
      "Shared Dirtied Blocks": 2,
      "Shared Written Blocks": 0,
      "Local Hit Blocks": 0,
      "Local Read Blocks": 0,
      "Local Dirtied Blocks": 0,
      "Local Written Blocks": 0,
      "Temp Read Blocks": 0,
      "Temp Written Blocks": 0
    },
    "Planning Time": 8.720,
    "Triggers": [
    ],
    "JIT": {
      "Functions": 43,
      "Options": {
        "Inlining": false,
        "Optimization": false,
        "Expressions": true,
        "Deforming": true
      },
      "Timing": {
        "Generation": {
          "Deform": 0.377,
          "Total": 2.342
        },
        "Inlining": 0.000,
        "Optimization": 5.362,
        "Emission": 50.986,
        "Total": 58.689
      }
    },
    "Execution Time": 735.667
  }
]